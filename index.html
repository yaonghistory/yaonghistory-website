<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>야옹 역사 | 초등 현장 한국사 수업</title>
  <meta name="description" content="교과서 밖에서 직접 보고, 묻고, 배우는 살아있는 초등 현장 한국사 수업 ‘야옹 역사’" />

  <!-- NanumSquareRound (둥글둥글한 고딕) -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/moonspam/NanumSquare@2.0/nanumsquareround.min.css">

  <!-- ✅ 캐시 방지용 v 숫자: 바뀐 게 바로 안 보이면 숫자만 +1 -->
  <link rel="stylesheet" href="./style.css?v=801" />
</head>

<body>
  <header class="header" id="top">
    <div class="container header__inner">
      <div class="brand" aria-label="야옹 역사">
        <span class="brand__mark" aria-hidden="true">
          <img src="./yaong-cat.png" alt="">
        </span>
        <span class="brand__text">
          <span class="brand__name">야옹 역사</span>
          <span class="brand__tag">초등 현장 한국사 수업</span>
        </span>
      </div>

      <a class="miniCta" href="#contact" aria-label="수업 문의로 이동">문의</a>
    </div>
  </header>

  <main>
    <!-- HERO -->
    <section class="hero reveal">
      <div class="container hero__grid">
        <div class="hero__copy">
          <span class="badge">🐾 현장형 · 소수정예 · 120분</span>

          <h1 class="hero__title">야옹 역사</h1>
          <p class="hero__subtitle">초등 현장 한국사 수업</p>

          <p class="hero__headline">
            교과서 밖에서 직접 보고, 묻고, 배우는<br>
            <strong>살아있는 한국사 수업</strong>
          </p>

          <div class="hero__bullets">
            <div class="hero__bullet">박물관에서</div>
            <div class="hero__bullet">궁궐에서</div>
            <div class="hero__bullet">역사 현장에서</div>
            <div class="hero__bullet hero__bullet--note">아이들이 스스로 발견하는 역사</div>
          </div>

          <div class="hero__cta">
            <a class="btn" href="#about">수업 소개 보기</a>
            <a class="btn btn--soft" href="#curriculum">커리큘럼 보기</a>
            <a class="btn btn--outline" href="#contact">문의하기</a>
          </div>

          <ul class="stats" aria-label="핵심 정보">
            <li><span class="stats__num">120분</span><span class="stats__txt">1회 수업</span></li>
            <li><span class="stats__num">3–4명</span><span class="stats__txt">소수 정예</span></li>
            <li><span class="stats__num">현장+이론</span><span class="stats__txt">유물·전시 병행</span></li>
          </ul>
        </div>

        <aside class="hero__card" aria-label="요약 카드">
          <h2 class="card__title">오늘, 역사가 ‘보이는’ 수업</h2>
          <p class="card__lead">
            ‘외우는 역사’가 아니라, <strong>관찰하고 질문하는 역사</strong>로 바뀝니다.
          </p>

          <ul class="checklist">
            <li>초등 눈높이 현장 체험형 수업</li>
            <li>관찰 → 질문 → 기록 → 토론</li>
            <li>주제/장소는 학년·관심사에 맞춤</li>
          </ul>

          <div class="card__note">※ 일정·장소는 협의 후 조율 가능</div>
        </aside>
      </div>
    </section>

    <!-- ABOUT -->
    <section id="about" class="section blob blob--sky reveal">
      <div class="container">
        <div class="section__head">
          <h2>야옹 역사는 이런 수업이에요</h2>
          <p>따뜻하고 친근하지만, 내용은 탄탄하게. 아이와 부모 모두 안심하는 현장 수업.</p>
        </div>

        <div class="grid grid--2">
          <article class="panel">
            <h3>수업 핵심</h3>
            <ul class="list">
              <li>초등 눈높이에 맞춘 <strong>현장 체험형</strong> 한국사 수업</li>
              <li><strong>암기</strong>가 아닌 <strong>관찰과 질문</strong> 중심</li>
              <li><strong>1회 120분</strong> 집중 수업</li>
              <li><strong>3~4명</strong> 소수 정예 수업</li>
            </ul>
          </article>

          <article class="panel panel--soft">
            <h3>키워드</h3>
            <div class="chips">
              <span class="chip">#현장수업</span>
              <span class="chip">#체험형역사</span>
              <span class="chip">#질문하는아이</span>
              <span class="chip">#소수정예</span>
            </div>
            <div class="quote">“아이들이 <strong>스스로 발견</strong>한 역사는 오래 기억됩니다.”</div>
          </article>
        </div>
      </div>
    </section>

    <!-- CLASS STYLE -->
    <section id="style" class="section blob blob--mint reveal">
      <div class="container">
        <div class="section__head">
          <h2>수업은 이렇게 진행돼요</h2>
          <p>현장에서 이해하고, 질문하고, 기록하며 나만의 ‘역사 노트’를 만들어갑니다.</p>
        </div>

        <div class="grid grid--4">
          <div class="step">
            <div class="step__num">1</div>
            <div class="step__title">현장 설명 + 이론 학습</div>
            <div class="step__desc">배경지식으로 ‘왜’인지 이해하기</div>
          </div>
          <div class="step">
            <div class="step__num">2</div>
            <div class="step__title">유물·전시 관람 병행</div>
            <div class="step__desc">눈으로 보고, 연결해서 기억하기</div>
          </div>
          <div class="step">
            <div class="step__num">3</div>
            <div class="step__title">관찰 · 질문 · 기록</div>
            <div class="step__desc">🔎 관찰 / 💬 질문 / 🗒️ 기록</div>
          </div>
          <div class="step">
            <div class="step__num">4</div>
            <div class="step__title">활동지 및 토론</div>
            <div class="step__desc">생각을 말로 정리하고 확장하기</div>
          </div>
        </div>
      </div>
    </section>

    <!-- LOCATIONS -->
    <section id="locations" class="section blob blob--lemon reveal">
      <div class="container">
        <div class="section__head">
          <h2>역사가 있는 모든 곳이 교실입니다</h2>
          <p class="subcopy">교실을 벗어나, 역사를 직접 만나는 수업</p>
        </div>

        <div class="locations">
          <div class="locations__item">국립중앙박물관 <span class="muted">(시대별)</span></div>
          <div class="locations__item">경복궁 · 덕수궁 · 창경궁</div>
          <div class="locations__item">서대문형무소 · 전쟁기념관</div>
          <div class="locations__item">고궁박물관 · 화폐박물관</div>
          <div class="locations__item">그리스·로마관 · 선정릉</div>
        </div>
      </div>
    </section>

    <!-- CURRICULUM -->
    <section id="curriculum" class="section blob blob--sky2 reveal">
      <div class="container">
        <div class="section__head">
          <h2>시대별로 나누어 배우는 한국사</h2>
          <p>중앙박물관 커리큘럼 예시</p>
        </div>

        <div class="grid grid--4">
          <article class="cardMini">
            <h3>선사시대</h3>
            <p>“사람들은 어떻게 살았을까?”</p>
          </article>
          <article class="cardMini">
            <h3>삼국시대</h3>
            <p>“나라는 왜 생겼을까?”</p>
          </article>
          <article class="cardMini">
            <h3>고려시대</h3>
            <p>“불교와 나라는 어떤 관계였을까?”</p>
          </article>
          <article class="cardMini">
            <h3>조선시대</h3>
            <p>“왕은 어떻게 나라를 다스렸을까?”</p>
          </article>
        </div>

        <div class="section__note">한 번으로 끝나지 않는, 이어지는 역사 수업</div>
      </div>
    </section>

    <!-- INSTRUCTOR -->
    <section id="instructor" class="section blob blob--mint2 reveal">
      <div class="container">
        <div class="section__head">
          <h2>강사 이력</h2>
          <p>아이들의 눈높이에 맞춰, 어렵지 않고 재미있게 역사를 전달합니다.</p>
        </div>

        <div class="teacher">
          <div class="teacher__logo" aria-hidden="true">
            <img src="./yaong-logo.png" alt="">
          </div>

          <div class="teacher__body">
            <ul class="list list--bold">
              <li>역사 교육 경력 10년 이상</li>
              <li>한국사능력검정시험 1급</li>
              <li>전) 궁궐문화원 선임연구원</li>
              <li>전) 라이브 뮤지엄 출강 강사</li>
              <li>현) 꿈꾸는 해치 한국사 강사</li>
            </ul>
          </div>
        </div>
      </div>
    </section>

    <!-- CLASS INFO -->
    <section id="info" class="section blob blob--lemon2 reveal">
      <div class="container">
        <div class="section__head">
          <h2>수업 안내</h2>
        </div>

        <div class="grid grid--3">
          <div class="infoCard">
            <div class="infoCard__icon">⏱️</div>
            <div class="infoCard__title">수업 시간</div>
            <div class="infoCard__desc">1회 120분 (2시간)</div>
          </div>
          <div class="infoCard">
            <div class="infoCard__icon">👧👦</div>
            <div class="infoCard__title">수업 정원</div>
            <div class="infoCard__desc">3~4명 소수 정예</div>
          </div>
          <div class="infoCard">
            <div class="infoCard__icon">🎒</div>
            <div class="infoCard__title">대상</div>
            <div class="infoCard__desc">초등학생 (학년별 난이도 조절)</div>
          </div>
        </div>
      </div>
    </section>

    <!-- REVIEWS -->
    <section id="reviews" class="section reveal">
      <div class="container">
        <div class="section__head">
          <h2>생생한 후기</h2>
        </div>

        <div class="review-wrap">
          <img class="review-img zoomable" src="./review.jpg" alt="야옹 역사 수업 후기">
        </div>
      </div>
    </section>

    <!-- PHOTOS -->
    <section id="photos" class="section section--plainAlt reveal">
      <div class="container">
        <div class="section__head">
          <h2>활동사진</h2>
        </div>

        <div class="gallery" aria-label="활동사진 갤러리">
          <figure class="shot"><img class="zoomable" src="./photo1.jpg" alt="활동사진 1" loading="lazy"></figure>
          <figure class="shot"><img class="zoomable" src="./photo2.jpg" alt="활동사진 2" loading="lazy"></figure>
          <figure class="shot"><img class="zoomable" src="./photo3.jpg" alt="활동사진 3" loading="lazy"></figure>
          <figure class="shot"><img class="zoomable" src="./photo4.jpg" alt="활동사진 4" loading="lazy"></figure>
          <figure class="shot"><img class="zoomable" src="./photo5.jpg" alt="활동사진 5" loading="lazy"></figure>
        </div>
      </div>
    </section>

    <!-- CONTACT -->
    <section id="contact" class="section blob blob--contact reveal">
      <div class="container">
        <div class="section__head">
          <h2>수업 문의</h2>
          <p>궁금한 점이 있다면 언제든 편하게 문의 주세요.</p>
        </div>

        <div class="contact">
          <div class="contact__box">
            <div class="contact__lines">
              <div class="contact__line email">📩 메일: yaonghistory@gmail.com</div>
              <div class="contact__line">📸 인스타그램: @yaong_history</div>
              <div class="contact__line muted">DM 문의 가능 · 예약 및 일정 조율 가능</div>
            </div>

            <form class="contactForm" id="contactForm" aria-label="수업 문의 양식">
              <div class="contactForm__row">
                <label class="field">
                  <span class="field__label">보호자 이름</span>
                  <input class="field__input" type="text" name="parentName" placeholder="예) 홍길동" required>
                </label>
                <label class="field">
                  <span class="field__label">휴대폰 번호</span>
                  <input class="field__input" type="tel" name="phone" placeholder="예) 010-1234-5678" required>
                </label>
              </div>

              <div class="contactForm__row">
                <label class="field">
                  <span class="field__label">인원</span>
                  <input class="field__input" type="text" name="count" placeholder="예) 3명 (3~4명)">
                </label>
                <label class="field">
                  <span class="field__label">희망 장소/일정</span>
                  <input class="field__input" type="text" name="whenWhere" placeholder="예) 중앙박물관 / 2월 주말">
                </label>
              </div>

              <label class="field">
                <span class="field__label">문의 내용</span>
                <textarea class="field__textarea" name="message" rows="5" placeholder="학년, 관심 주제(궁궐/박물관/선사 등), 궁금한 점을 적어주세요." required></textarea>
              </label>

              <div class="contact__actions">
                <button type="submit" class="btn btn--mail">메일로 문의하기</button>

                <a class="insta-contact__btn" href="https://instagram.com/yaong_history" target="_blank" rel="noopener" aria-label="야옹 역사 인스타그램">
                  <img src="./instagram.png" alt="Instagram">
                  <span>@yaong_history</span>
                </a>
              </div>
            </form>
          </div>

          <div class="contact__note">
            ※ 장소/학년/인원에 맞춰 커리큘럼을 조정할 수 있어요.
          </div>
        </div>
      </div>
    </section>
  </main>

  <footer class="footer">
    <div class="container footer__inner">
      <div>
        <div class="footer__title">야옹 역사</div>
        <div class="footer__sub">초등 현장 한국사 수업</div>
      </div>
      <div class="footer__copy">© Yaong History</div>
    </div>
  </footer>

  <!-- ✅ 라이트박스(사진 확대 + 좌우 넘김 + 1/6 + 썸네일) -->
  <div class="lightbox" id="lightbox" aria-hidden="true">
    <button class="lightbox__close" type="button" aria-label="닫기">×</button>
    <button class="lightbox__nav lightbox__nav--prev" type="button" aria-label="이전 사진">‹</button>

    <div class="lightbox__count" id="lightboxCount">1/1</div>

    <img class="lightbox__img" id="lightboxImg" alt="">

    <button class="lightbox__nav lightbox__nav--next" type="button" aria-label="다음 사진">›</button>

    <div class="lightbox__thumbs" id="lightboxThumbs" aria-label="썸네일 목록"></div>
  </div>

  <script>
    (function () {
      const ua = navigator.userAgent || "";
      const isWebView = /KAKAOTALK|NAVER|Daum|Kakao/i.test(ua);
      if (isWebView) document.body.classList.add("webview");

      // ===== 폰트 로딩 보정 =====
      const checkFont = () => {
        try{
          if (document.fonts && document.fonts.check) {
            const ok = document.fonts.check('16px "NanumSquareRound"');
            if (!ok) document.body.classList.add("font-fallback");
          } else {
            document.body.classList.add("font-fallback");
          }
        }catch(e){
          document.body.classList.add("font-fallback");
        }
      };
      checkFont();
      setTimeout(checkFont, 300);
      setTimeout(checkFont, 1200);

      // ===== Reveal Engine (IO + Scroll Fallback) =====
      const reveals = Array.from(document.querySelectorAll(".reveal"));
      if (reveals.length) {
        let ticking = false;

        const inView = (el) => {
          const r = el.getBoundingClientRect();
          const vh = window.innerHeight || document.documentElement.clientHeight;
          return r.top <= vh * 0.88;
        };

        const revealCheck = () => {
          for (const el of reveals) {
            if (!el.classList.contains("active") && inView(el)) {
              el.classList.add("active");
            }
          }
        };

        const onScroll = () => {
          if (ticking) return;
          ticking = true;
          requestAnimationFrame(() => {
            revealCheck();
            ticking = false;
          });
        };

        if ("IntersectionObserver" in window) {
          const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
              if (entry.isIntersecting) entry.target.classList.add("active");
            });
          }, { threshold: 0.12, rootMargin: "0px 0px -8% 0px" });

          reveals.forEach(el => observer.observe(el));
        }

        window.addEventListener("scroll", onScroll, { passive: true });
        window.addEventListener("resize", onScroll);
        window.addEventListener("orientationchange", onScroll);

        revealCheck();
        setTimeout(revealCheck, 120);
        setTimeout(revealCheck, 420);
      }

      // ===== 문의 폼: mailto 자동 채움 =====
      const form = document.getElementById('contactForm');
      if (form) {
        form.addEventListener('submit', function (e) {
          e.preventDefault();

          const data = new FormData(form);
          const parentName = (data.get('parentName') || '').toString().trim();
          const phone = (data.get('phone') || '').toString().trim();
          const count = (data.get('count') || '').toString().trim();
          const whenWhere = (data.get('whenWhere') || '').toString().trim();
          const message = (data.get('message') || '').toString().trim();

          const subject = `[야옹 역사] 수업 문의 (${parentName || '보호자'})`;
          const bodyLines = [
            `보호자 이름: ${parentName}`,
            `휴대폰 번호: ${phone}`,
            `인원: ${count || '-'}`,
            `희망 장소/일정: ${whenWhere || '-'}`,
            ``,
            `문의 내용:`,
            `${message}`
          ];

          const mailto =
            `mailto:yaonghistory@gmail.com?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(bodyLines.join('\n'))}`;

          window.location.href = mailto;
        });
      }

      // ===== ✅ Lightbox (Zoom + Swipe + Count + Thumbs) =====
      const lb = document.getElementById("lightbox");
      const lbImg = document.getElementById("lightboxImg");
      const lbCount = document.getElementById("lightboxCount");
      const lbThumbs = document.getElementById("lightboxThumbs");

      const btnClose = lb ? lb.querySelector(".lightbox__close") : null;
      const btnPrev = lb ? lb.querySelector(".lightbox__nav--prev") : null;
      const btnNext = lb ? lb.querySelector(".lightbox__nav--next") : null;

      const zoomables = Array.from(document.querySelectorAll("img.zoomable"));
      const items = zoomables.map(img => ({
        src: img.getAttribute("src"),
        alt: img.getAttribute("alt") || ""
      }));

      let current = 0;

      const renderThumbs = () => {
        if (!lbThumbs) return;
        lbThumbs.innerHTML = "";
        items.forEach((it, idx) => {
          const b = document.createElement("button");
          b.type = "button";
          b.className = "lightbox__thumb" + (idx === current ? " active" : "");
          b.setAttribute("aria-label", `썸네일 ${idx+1}`);
          const im = document.createElement("img");
          im.src = it.src;
          im.alt = "";
          b.appendChild(im);
          b.addEventListener("click", () => openLB(idx, true));
          lbThumbs.appendChild(b);
        });
      };

      const syncUI = () => {
        if (lbCount) lbCount.textContent = `${current + 1}/${items.length}`;
        if (lbThumbs) {
          const thumbs = Array.from(lbThumbs.querySelectorAll(".lightbox__thumb"));
          thumbs.forEach((t, i) => t.classList.toggle("active", i === current));

          const active = thumbs[current];
          if (active) {
            const r = active.getBoundingClientRect();
            const pr = lbThumbs.getBoundingClientRect();
            if (r.left < pr.left || r.right > pr.right) {
              active.scrollIntoView({ behavior:"smooth", inline:"center", block:"nearest" });
            }
          }
        }
      };

      const openLB = (index, keepOpen) => {
        if (!lb || !lbImg || !items.length) return;
        current = (index + items.length) % items.length;
        lbImg.src = items[current].src;
        lbImg.alt = items[current].alt;

        if (!lb.classList.contains("open")) {
          lb.classList.add("open");
          lb.setAttribute("aria-hidden", "false");
          document.body.classList.add("modal-open");
          renderThumbs();
        }
        syncUI();
      };

      const closeLB = () => {
        if (!lb || !lbImg) return;
        lb.classList.remove("open");
        lb.setAttribute("aria-hidden", "true");
        lbImg.src = "";
        document.body.classList.remove("modal-open");
      };

      const showPrev = () => openLB(current - 1, true);
      const showNext = () => openLB(current + 1, true);

      zoomables.forEach((img, idx) => {
        img.addEventListener("click", () => openLB(idx));
      });

      if (btnClose) btnClose.addEventListener("click", closeLB);
      if (btnPrev) btnPrev.addEventListener("click", showPrev);
      if (btnNext) btnNext.addEventListener("click", showNext);

      if (lb) {
        lb.addEventListener("click", (e) => {
          if (e.target === lb) closeLB();
        });
      }

      document.addEventListener("keydown", (e) => {
        if (!lb || !lb.classList.contains("open")) return;
        if (e.key === "Escape") closeLB();
        if (e.key === "ArrowLeft") showPrev();
        if (e.key === "ArrowRight") showNext();
      });

      // 스와이프
      let startX = 0;
      let startY = 0;
      let tracking = false;

      const onTouchStart = (e) => {
        if (!lb || !lb.classList.contains("open")) return;
        const t = e.touches[0];
        startX = t.clientX;
        startY = t.clientY;
        tracking = true;
      };

      const onTouchMove = (e) => {
        if (!tracking) return;
        const t = e.touches[0];
        const dx = t.clientX - startX;
        const dy = t.clientY - startY;
        if (Math.abs(dy) > Math.abs(dx) + 10) tracking = false;
      };

      const onTouchEnd = (e) => {
        if (!tracking) return;
        tracking = false;
        const t = (e.changedTouches && e.changedTouches[0]) || null;
        if (!t) return;

        const dx = t.clientX - startX;
        const threshold = 50;
        if (dx > threshold) showPrev();
        else if (dx < -threshold) showNext();
      };

      if (lb) {
        lb.addEventListener("touchstart", onTouchStart, { passive:true });
        lb.addEventListener("touchmove", onTouchMove, { passive:true });
        lb.addEventListener("touchend", onTouchEnd, { passive:true });
      }
    })();
  </script>
</body>
</html>
